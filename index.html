<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictionnaire Tadaksahak Multilingue</title>
  <meta name="robots" content="index, follow" />
  <meta name="description" content="Dictionnaire Tadaksahak multilingue avec audio, traductions et chatbot éducatif intégré." />
  <meta name="theme-color" content="#005fa3" />

  <!-- Open Graph -->
  <meta property="og:title" content="Dictionnaire Tadaksahak multilingue" />
  <meta property="og:description" content="Un outil éducatif multilingue avec audio et chatbot." />
  <meta property="og:image" content="images/idaksahak_round.png" />
  <meta property="og:type" content="website" />

  <link rel="icon" href="images/idaksahak_round.png" type="image/png" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js" defer crossorigin="anonymous"></script>
  <script src="app.js" defer></script>

  <style>
    button:focus, input:focus {
      outline: 3px solid var(--blue-mid);
      outline-offset: 2px;
    }
    img {
      max-width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <noscript>
    <p style="text-align:center; color:red; font-weight:bold;">⚠️ Ce site nécessite JavaScript pour fonctionner correctement.</p>
  </noscript>

  <header class="site-header">
    <div class="header-wrapper">
      <img src="images/idaksahak_round.png" alt="Logo Tadaksahak" class="logo-header" loading="lazy" width="100" height="100" />
    </div>
  </header>

  <main>
    <section class="intro">
      <h1 id="titrePrincipal">Tadaksahak Dictionary</h1>
      <p id="textePresentation">Chargement...</p>
    </section>

    <section class="langue-section" aria-label="Choix de la langue">
      <div class="langue-select-container">
        <div class="langue-group">
          <button id="btnLangueInterface" class="langue-btn" aria-haspopup="true" aria-expanded="false" aria-controls="menuLangueInterface"></button>
          <div id="menuLangueInterface" class="langue-panel" role="menu" hidden aria-labelledby="btnLangueInterface"></div>
        </div>
        <div class="langue-group">
          <button id="btnLangueTrad" class="langue-btn" aria-haspopup="true" aria-expanded="false" aria-controls="menuLangueTrad"></button>
          <div id="menuLangueTrad" class="langue-panel" role="menu" hidden aria-labelledby="btnLangueTrad"></div>
        </div>
      </div>
    </section>

    <section class="recherche" aria-label="Recherche de mots">
      <input id="searchBar" type="text" placeholder="Cherchez un mot..." aria-label="Barre de recherche" />
      <h2 id="motTexte">—</h2>
      <p id="definition">—</p>
      <p id="compteur">0 / 0</p>
      <div id="audioButtons" class="button-group">
        <button id="btnPlay">▶️ Écouter</button>
        <button id="btnReplay" disabled>⟳ Réécouter</button>
        <button id="btnAuto" disabled>▶️ Lecture auto</button>
      </div>
      <nav class="button-group" aria-label="Navigation des mots">
        <button id="btnPrev" aria-label="Mot précédent">⏮️</button>
        <button id="btnNext" aria-label="Mot suivant">⏭️</button>
      </nav>
    </section>

    <!-- Chatbot, ressources, à propos, etc. identiques -->

  </main>

  <footer class="site-footer">
    <!-- inchangé -->
  </footer>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(reg => console.log('✅ Service Worker enregistré', reg.scope))
        .catch(err => console.error('❌ Échec Service Worker:', err));
    }
  </script>
</body>
</html>
