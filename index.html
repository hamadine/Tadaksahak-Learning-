<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictionnaire Tadaksahak Multilingue</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <h1 id="appTitle">Tadaksahak Multilingue</h1>

  <!-- Bouton d'ouverture -->
  <button id="openLangModal" class="lang-btn-trigger">🌐 Choisir la langue</button>

  <!-- Modale -->
  <div id="langModal" class="modal-overlay">
    <div class="modal-box">
      <h2>Sélectionner la langue de l'application</h2>
      <div class="lang-circle-group" id="langSelector">
        <!-- Langues insérées dynamiquement -->
      </div>
      <button id="closeLangModal" class="modal-close">Terminer</button>
    </div>
  </div>

  <!-- Texte d'exemple -->
  <p id="welcomeText">Bienvenue dans le dictionnaire Tadaksahak !</p>

  <script>
    const supportedLangs = {
      fr: { name: "Français", flag: "fr", message: "Bienvenue dans le dictionnaire Tadaksahak !" },
      en: { name: "English", flag: "gb", message: "Welcome to the Tadaksahak Dictionary!" },
      ar: { name: "العربية", flag: "sa", message: "مرحبًا بك في قاموس تاداكساهاك!" },
      ru: { name: "Русский", flag: "ru", message: "Добро пожаловать в словарь Тадаксахак!" },
      de: { name: "Deutsch", flag: "de", message: "Willkommen im Tadaksahak-Wörterbuch!" },
      es: { name: "Español", flag: "es", message: "¡Bienvenido al diccionario Tadaksahak!" },
      it: { name: "Italiano", flag: "it", message: "Benvenuto nel dizionario Tadaksahak!" },
      nl: { name: "Nederlands", flag: "nl", message: "Welkom bij het Tadaksahak-woordenboek!" },
      da: { name: "Dansk", flag: "dk", message: "Velkommen til Tadaksahak-ordbogen!" },
      cs: { name: "Čeština", flag: "cz", message: "Vítejte ve slovníku Tadaksahak!" },
      pt: { name: "Português", flag: "pt", message: "Bem-vindo ao dicionário Tadaksahak!" },
      tr: { name: "Türkçe", flag: "tr", message: "Tadaksahak sözlüğüne hoş geldiniz!" },
      ja: { name: "日本語", flag: "jp", message: "タダクサハク辞書へようこそ！" },
      zh: { name: "中文", flag: "cn", message: "欢迎使用Tadaksahak词典！" },
      hi: { name: "हिन्दी", flag: "in", message: "तड़क्सहक शब्दकोश में आपका स्वागत है!" },
      sw: { name: "Kiswahili", flag: "tz", message: "Karibu kwenye kamusi ya Tadaksahak!" }
    };

    let currentLang = "fr";

    const modal = document.getElementById("langModal");
    const selector = document.getElementById("langSelector");
    const welcomeText = document.getElementById("welcomeText");

    // Générer les boutons dynamiquement
    for (const [code, data] of Object.entries(supportedLangs)) {
      const btn = document.createElement("button");
      btn.className = "lang-circle";
      btn.onclick = () => setLang(code);
      btn.innerHTML = `
        <img src="https://flagcdn.com/${data.flag}.svg" alt="${data.name}">
        <span>${code.toUpperCase()}</span>
      `;
      selector.appendChild(btn);
    }

    // Appliquer une langue
    function setLang(code) {
      currentLang = code;
      document.documentElement.lang = code;
      welcomeText.textContent = supportedLangs[code].message || welcomeText.textContent;
      modal.classList.remove("show");
    }

    // Auto-détection au chargement
    window.addEventListener("DOMContentLoaded", () => {
      const browserLang = navigator.language.slice(0, 2).toLowerCase();
      if (supportedLangs[browserLang]) setLang(browserLang);
    });

    // Gestion modale
    document.getElementById("openLangModal").onclick = () => modal.classList.add("show");
    document.getElementById("closeLangModal").onclick = () => modal.classList.remove("show");
  </script>

</body>
</html>
