<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictionnaire Tadaksahak – Début d'une aventure culturelle</title>
  <meta name="description" content="Début d'une aventure riche autour de la langue et culture Idaksahak." />
  <meta name="theme-color" content="#005fa3" />
  <base href="/Tadaksahak-Learning-/">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="images/idaksahak_square.png" type="image/png" />
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
</head>
<body>
  <noscript>
    <div class="js-warning" role="alert">
      <p>⚠️ Ce site nécessite JavaScript pour fonctionner correctement.</p>
    </div>
  </noscript>

  <header class="site-header">
    <img src="images/idaksahak_round.png" alt="Logo Tadaksahak" class="logo-header" loading="lazy" />
  </header>

  <section class="language-buttons" aria-label="Paramètres de langue">
    <button id="btnLangueInterface" class="tab-btn" aria-haspopup="true" aria-controls="menuLangueInterface" aria-expanded="false">Interface : Français ⌄</button>
    <div id="menuLangueInterface" hidden role="menu" aria-label="Langue d’interface"></div>
    <button id="btnLangueTrad" class="tab-btn" aria-haspopup="true" aria-controls="menuLangueTrad" aria-expanded="false">Traduction : Français ⌄</button>
    <div id="menuLangueTrad" hidden role="menu" aria-label="Langue de traduction"></div>
  </section>

  <nav class="tabs" aria-label="Navigation principale">
    <button class="tab-btn active" data-tab="dictionnaire" aria-selected="true" tabindex="0" id="tab-dictionnaire">📖 Dictionnaire</button>
    <button class="tab-btn" data-tab="chat" aria-selected="false" tabindex="-1" id="tab-chat">💬 Chat</button>
    <button class="tab-btn" onclick="window.location.href='cours-anglais.html'">📘 Cours d'Anglais</button>
    <button class="tab-btn" data-tab="audio" aria-selected="false" tabindex="-1" id="tab-audio">🎧 Audio</button>
    <button class="tab-btn" data-tab="photos" aria-selected="false" tabindex="-1" id="tab-photos">🖼️ Photos</button>
    <button class="tab-btn" data-tab="videos" aria-selected="false" tabindex="-1" id="tab-videos">🎥 Vidéos</button>
    <button class="tab-btn" data-tab="rapports" aria-selected="false" tabindex="-1" id="tab-rapports">📄 Rapports</button>
    <button class="tab-btn" data-tab="actualites" aria-selected="false" tabindex="-1" id="tab-actualites">📰 Actualités</button>
    <button class="tab-btn" data-tab="livres" aria-selected="false" tabindex="-1" id="tab-livres">📚 Livres</button>
  </nav>

  <main>
    <section id="dictionnaire" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-dictionnaire">
      <h2>📖 Dictionnaire Tadaksahak</h2>
      <div class="search-bar">
        <input type="text" id="searchBar" placeholder="Recherchez un mot…" aria-label="Recherche dans le dictionnaire" autocomplete="off">
      </div>
      <div class="mot-resultat">
        <h3 id="motTexte">—</h3>
        <p id="definition">—</p>
        <p id="compteur">0 / 0</p>
      </div>
      <div class="button-group dictionnaire-audio">
        <button id="btnPlay" class="btn-icon" aria-label="Écouter le mot">🔊 Écouter</button>
        <button id="btnPrononcer" class="btn-icon" aria-label="Prononcer le mot">🎤 Dis‑le</button>
        <button id="btnReplay" class="btn-icon" disabled aria-label="Réécouter">🔁 Réécouter</button>
        <button id="btnAuto" class="btn-icon" disabled aria-label="Lecture auto">▶️ Lecture auto</button>
      </div>
      <div class="button-group dictionnaire-navigation">
        <button id="btnPrev" class="btn-nav" aria-label="Mot précédent">⟸</button>
        <button id="btnNext" class="btn-nav" aria-label="Mot suivant">➡️</button>
      </div>
    </section>

    <section id="chat" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-chat" hidden>
      <h2 id="chat-title" data-i18n="chatTitre">💬 Chat Tadaksahak</h2>
      <div id="chatWindow" class="chatbox" role="log" aria-live="polite"></div>
      <div id="botIntro" class="chat-intro" data-i18n="botIntro">🤖 Salut, je suis Hamadine.</div>
      <div class="chat-input-container">
        <input type="text" id="chatInput" placeholder="Écrivez votre message…" aria-label="Entrée du chat" autocomplete="off">
        <button id="btnEnvoyer" aria-label="Envoyer le message" data-i18n="envoyer">Envoyer</button>
      </div>
    </section>

    <section id="audio" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-audio" hidden>
      <h2>🎧 Audios de traduction</h2>
      <p>Des enregistrements Tadaksahak issus de livres ou discours seront bientôt disponibles.</p>
    </section>

    <section id="photos" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-photos" hidden>
      <h2>🖼️ Galerie photographique</h2>
      <p>Mémoires en images des événements historiques Idaksahak.</p>
    </section>

    <section id="videos" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-videos" hidden>
      <h2>🎥 Vidéos historiques authentiques</h2>
      <p>Archives audiovisuelles sur la culture Idaksahak.</p>
      <div class="videos-grid">
  <!-- Vidéo 1 -->
  <div class="video-container">
    <h3>🧭 Secours aux migrants abandonnés</h3>
    <p>Des jeunes Idaksahak portent secours à des migrants abandonnés par des passeurs dans le désert.</p>
    <video controls width="100%">
      <source src="videos/secours-migrants-idaksahak.mp4" type="video/mp4">
      Votre navigateur ne supporte pas la lecture de vidéos.
    </video>
  </div>

  <!-- Vidéo 2 -->
  <div class="video-container">
    <h3>📖 Cheikh Almomine Ag Mohamad</h3>
    <p>Portrait d’un érudit respecté des Idaksahak, entre spiritualité et culture sahélienne.</p>
    <video controls width="100%">
      <source src="videos/cheikh-almomine-idaksahak.mp4" type="video/mp4">
      Votre navigateur ne supporte pas la lecture de vidéos.
    </video>
  </div>

  <!-- Vidéo 3 -->
  <div class="video-container">
    <h3>🕊️ DDR et engagement du MSA</h3>
    <p>Des combattants du MSA participent au processus de Désarmement, Démobilisation et Réinsertion.</p>
    <video controls width="100%">
      <source src="videos/msa-ddr-combattants.mp4" type="video/mp4">
      Votre navigateur ne supporte pas la lecture de vidéos.
    </video>
  </div>
      </div>
      <!-- Vidéo 4 -->
<div class="video-container">
  <h3>🎙️ Discours de Moussa Ag Acharatoumane</h3>
  <p>Un discours fort du leader du MSA sur la paix, la sécurité et l'engagement de la communauté Idaksahak.</p>
  <video controls width="100%">
    <source src="videos/discours-historique-de-moussa-ag-acaharatoumane.mp4" type="video/mp4" />
    Votre navigateur ne supporte pas la lecture de vidéos.
  </video>
</div>

<!-- Vidéo 5 -->
<div class="video-container">
  <h3>🔥 Pâturages brûlés par les terroristes</h3>
  <p>Images de destruction volontaire de zones pastorales, une atteinte grave à l’environnement et aux communautés.</p>
  <video controls width="100%">
    <source src="videos/paturages-incendie-par-les-terroriste.mp4" type="video/mp4" />
    Votre navigateur ne supporte pas la lecture de vidéos.
  </video>
</div>

<!-- Vidéo 6 -->
<div class="video-container">
  <h3>📖 Jeune prodige du Coran parmi les réfugiés</h3>
  <p>Portrait d’un enfant Idaksahak réfugié en Algérie, qui récite le Coran avec une grande maîtrise. Témoignage de résilience et de foi.</p>
  <video controls width="100%">
    <source src="videos/prodige-du-coran-des-idaksahak-refugies-en-algerie.mp4" type="video/mp4" />
    Votre navigateur ne supporte pas la lecture de vidéos.
  </video>
</div>
      <!-- Vidéo 7 -->
<div class="video-container">
  <h3>📢 Démenti de rumeur et appel à la retenue</h3>
  <p>Un Adaksahak vivant au Niger dément les rumeurs accusant faussement les Idaksahak du meurtre dew Haoussa en Algérie et ailleurs évoquant les liens historiques entre Idaksahak et Haoussa appellelant à la retenue et au discernement pour éviter tout conflit communautaire.</p>
  <video controls width="100%">
    <source src="videos/dementi-rumeur-haoussa-tue-par-les-idaksahak-et-appel-a-la-retenue.mp4" type="video/mp4" />
    Votre navigateur ne supporte pas la lecture de vidéos.
  </video>
</div>
    </section>

  <section id="livres" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-livres" hidden>
  <h2 style="color: var(--bleu); text-align: center;">📚 Livres & Manuscrits sur les Idaksahak et le Sahel</h2>  <!-- 🔍 Barre de recherche -->  <div style="text-align:center; margin: 2em auto; max-width:800px;">
    <input type="text" id="rechercheLivres" placeholder="🔍 Rechercher un livre, une tribu ou un auteur..." 
           style="padding: 10px; width: 90%; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem;">
  </div>  <div style="margin:1em 0; text-align:center;">
    <label for="selectThemeLivres"><strong>🎨 Thème visuel :</strong></label>
    <select id="selectThemeLivres" aria-label="Choisir un thème pour la section Livres">
      <option value="clair">Clair (bleu ciel)</option>
      <option value="vert">Vert (naturel)</option>
      <option value="sombre">Sombre (noir et blanc)</option>
    </select>
  </div>  <!-- 🧭 HISTOIRE & IDENTITÉ -->  <div class="livre-bloc">
    <h2>📘 Histoire de l’émancipation intégrale</h2>
    <a href="histoire-emancipation-integrale.html" class="btn">Lire ce livre</a>
  </div>
  <div class="livre-bloc">
    <h2>📘 تاريخ التحرر الكامل (arabe)</h2>
    <a href="تاريخ-التحرر-الكامل-العربية.html" class="btn">قراءة الكتاب</a>
  </div>  <!-- 📗 CONTRIBUTIONS SCIENTIFIQUES -->  <div class="livre-bloc">
    <h2>📗 Contribution à la connaissance de la communauté Idaksahak</h2>
    <a href="Contribution à la connaissance de la communauté Idaksahak par le Géologue Ahmed‑Mohamed AG GUIDI - Texte Intégral.html" class="btn">Lire ce livre</a>
  </div>
  <div class="livre-bloc">
    <h2>📗 مساهمة في معرفة مجتمع الإداكساهك</h2>
    <a href="مساهمة-في-معرفة-مجتمع-الإداكساهك.html" class="btn">قراءة الكتاب</a>
  </div>
  <div class="livre-bloc">
    <h2>📗 Contribution to the Knowledge of the Idaksahak Community</h2>
    <a href="contribution-to-the-knowledge-of-the-idaksahak-community.html" class="btn">Read this book</a>
  </div>  <!-- 📜 MANUSCRITS HISTORIQUES -->  <div class="livre-bloc">
    <h2>📜 Tarīkh al-Sūdān (John O. Hunwick)</h2>
    <iframe src="https://archive.org/embed/john-o.-hunwick-timbuktu-and-the-songhay-empire-al-sa-dis-ta-rikh-al-sudan-down-" width="100%" height="300" frameborder="0" allowfullscreen></iframe>
    <p>Traduction annotée du Tarīkh al-Sūdān, chronique sur Tombouctou et l’Empire Songhaï.</p>
  </div>
  <div class="livre-bloc">
    <h2>📜 Tarīkh al-Fettāsh (arabe)</h2>
    <iframe src="https://archive.org/embed/32882019289852-tarikhalfatashf" width="100%" height="300" frameborder="0" allowfullscreen></iframe>
    <p>Version arabe originale retraçant les dynasties et lignées religieuses sahéliennes.</p>
  </div>
  <div class="livre-bloc">
    <h2>📜 Tarīkh al-Fettāsh (traduction anglaise)</h2>
    <iframe src="https://archive.org/embed/timbuktu-chronicles-1" width="100%" height="300" frameborder="0" allowfullscreen></iframe>
    <p>Traduction critique anglaise des chroniques historiques du Sahel.</p>
  </div>  <!-- 🌍 AUTRES LIVRES D'ARCHIVE.ORG -->  <div class="livre-bloc">
    <h2>🌍 A Grammar of Tadaksahak</h2>
    <a href="https://archive.org/details/369-tadaksahak" class="btn" target="_blank">Ouvrir le PDF</a>
  </div>
  <div class="livre-bloc">
    <h2>🌍 The Serpent and the Crescent (Touareg)</h2>
    <a href="https://archive.org/details/in.ernet.dli.2015.129455" class="btn" target="_blank">Lire le PDF</a>
  </div>
  <div class="livre-bloc">
    <h2>🌍 Medieval Africa, 1250–1800</h2>
    <a href="https://archive.org/details/MedievalAfrica12501800" class="btn" target="_blank">Lire le PDF</a>
  </div>  <!-- 🎧 Audio explicatif -->  <div style="text-align:center; margin-top: 2em;">
    <h3>🎧 Écoutez une lecture d’introduction</h3>
    <audio controls style="width:90%; max-width:600px;">
      <source src="audios/intro-idaksahak.mp3" type="audio/mpeg">
      Votre navigateur ne supporte pas la lecture audio.
    </audio>
  </div>
   </section>
    <section id="actualites" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-actualites" hidden>
      <h2>🗞️ Actualités</h2>
      <p>Articles, événements et communiqués sur les Idaksahak.</p>
      <div class="sous-boutons">
  <button onclick="window.location.href='communiques_idaksahak.html'">📢 Communiqués</button>
  <button onclick="window.location.href='communiques_msa.html'">🛡️ Communiqués MSA</button>

        <section id="rapports" class="onglet-contenu" role="tabpanel" aria-labelledby="tab-rapports" hidden>
      <h2>📄 Rapports et études</h2>
      <p>Rapports des Nations Unies et d’organisations humanitaires.</p>
      <a href="rapports_idaksahak.html" target="_blank">📄 Rapports sur les Idaksahak (Mars 2022)</a>
      <a href="rapports_complementaires.html" target="_blank">
  📁 Rapports complémentaires sur les Idaksahak
      </a>
        </section>
<script>
  const rechercheInput = document.getElementById('rechercheLivres');
  rechercheInput.addEventListener('input', () => {
    const filtre = rechercheInput.value.toLowerCase();
    document.querySelectorAll('#livres .livre-bloc').forEach(bloc => {
      const texte = bloc.textContent.toLowerCase();
      bloc.style.display = texte.includes(filtre) ? 'block' : 'none';
    });
  });

  const select = document.getElementById('selectThemeLivres');
  select.addEventListener('change', () => {
    const theme = select.value;
    const sec = document.getElementById('livres');
    sec.classList.remove('theme-clair','theme-vert','theme-sombre');
    sec.classList.add('theme-' + theme);
  });
</script><style>
  #livres.theme-clair { background: var(--vert); }
  #livres.theme-vert { background: var(--gris); }
  #livres.theme-sombre { background: #333; color: #eee; }
  #livres.theme-sombre .livre-bloc { background: #444; color: #eee; }
</style>
      
  </main>

  <div id="loading" class="loading-indicator" hidden>Chargement...</div>
  <div id="messageStatus" class="message-status" role="alert" aria-live="polite"></div>
  <footer style="background:#0a1f33; color:#fff; padding:2em 1em; text-align:center; margin-top:3em;">
  <img src="images/idaksahak_square.png" alt="Logo Idaksahak" style="width:80px; border-radius:50%; margin-bottom:1em;">
  <h3 style="margin:0; font-size:1.2em;">Hamadine AG MOCTAR</h3>

  <p style="max-width:600px; margin:1em auto; line-height:1.6;">
    Ce site est né de la nécessité d'offrir aux jeunes Idaksahak, et à toute la région du Sahel, un accès équitable au savoir, à l'information et à l'expression de leur héritage.
    Depuis des siècles, notre peuple fait preuve de résilience face aux défis — qu’ils soient sécuritaires, éducatifs, humanitaires ou identitaires.
    Aujourd’hui, grâce aux outils numériques, nous redonnons voix à ceux qu’on a longtemps voulu faire taire. Ce projet est une passerelle entre mémoire, savoir et avenir.
  </p>

  <div style="margin:1.5em 0;">
    <a href="https://wa.me/22786762903" target="_blank" style="margin:0 0.5em; text-decoration:none; color:#fff;">
      <img src="images/whatsapp.png" alt="WhatsApp" style="vertical-align:middle; width:20px;"> +227 86 76 29 03
    </a>
    <a href="mailto:hamadineagmoctar@gmail.com" target="_blank" style="margin:0 0.5em; text-decoration:none; color:#fff;">
      <img src="images/Gmail.png" alt="Gmail" style="vertical-align:middle; width:20px;"> hamadineagmoctar@gmail.com
    </a>
  </div>

  <p style="font-size:0.9em; color:#bbb;">&copy; 2025 – Tous droits réservés. Ce site est une initiative communautaire dédiée à la paix, à l’éducation et à la mémoire collective.</p>
  </footer>
  <!-- ✅ Message flottant animé -->
<div id="inscriptionBanner" style="
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background-color: #005fa3;
  color: white;
  padding: 1em;
  text-align: center;
  font-weight: bold;
  z-index: 9999;
  transform: translateY(-100%);
  animation: slideDown 1s ease forwards;
  font-family: Arial, sans-serif;
">
  📢 Les inscriptions scolaires 2025–2026 sont ouvertes ! Rejoins-nous gratuitement pour des cours d'anglais interactifs ✍️
  <span onclick="document.getElementById('inscriptionBanner').style.display='none';" style="margin-left:1em; cursor:pointer;">❌</span>
</div>

<style>
@keyframes slideDown {
  to {
    transform: translateY(0);
  }
}
</style>
  <script>
    // Disparition automatique bannière
    setTimeout(() => {
      const banner = document.getElementById('inscriptionBanner');
      if (banner) banner.style.display = 'none';
    }, 10000);
  </script>

  <!-- ✅ Service Worker + Installation PWA -->
  <script>
  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    const banner = document.createElement('div');
    banner.innerHTML = `
      <div style="position:fixed; bottom:0; left:0; right:0; background:#005fa3; color:white; padding:1em; text-align:center; z-index:9999;">
        📲 Installez cette application pour un accès hors ligne et rapide !
        <button id="installBtn" style="margin-left:1em; padding:0.5em 1em; background:white; color:#005fa3; border:none; border-radius:5px; font-weight:bold;">Installer</button>
        <span onclick="this.parentNode.remove()" style="margin-left:1em; cursor:pointer;">❌</span>
      </div>
    `;
    document.body.appendChild(banner);

    document.getElementById('installBtn').addEventListener('click', () => {
      banner.remove();
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(choice => {
        if (choice.outcome === 'accepted') {
          console.log("✅ Installation acceptée");
        } else {
          console.log("❌ Installation refusée");
        }
        deferredPrompt = null;
      });
    });
  });

  // Enregistrement SW + mise à jour
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(registration => {
      console.log("✅ Service Worker actif");

      registration.onupdatefound = () => {
        const newWorker = registration.installing;
        newWorker.onstatechange = () => {
          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
            if (confirm("🔁 Une nouvelle version est disponible. Mettre à jour maintenant ?")) {
              window.location.reload();
            }
          }
        };
      };
    }).catch(err => console.error("❌ Erreur SW :", err));

    navigator.serviceWorker.addEventListener('controllerchange', () => {
      window.location.reload();
    });
  }
  </script>

</body>
</html>

