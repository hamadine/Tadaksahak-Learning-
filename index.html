<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictionnaire Tadaksahak – Début d'une aventure culturelle</title>
  <meta name="description" content="Début d'une aventure riche autour de la langue et culture Idaksahak." />
  <meta name="theme-color" content="#005fa3" />
  <link rel="icon" href="images/idaksahak_round.png" type="image/png" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="js/main.js" defer></script>
</head>
<body>
  <noscript>
    <p style="text-align:center; color:red; font-weight:bold;">
      ⚠️ Ce site nécessite JavaScript pour fonctionner correctement.
    </p>
  </noscript>

  <header class="site-header">
    <img src="images/idaksahak_round.png" alt="Logo Tadaksahak" class="logo-header" loading="lazy" />
  </header>

  <nav class="tabs" aria-label="Sections principales">
    <button class="tab-btn active" data-tab="dictionnaire">Dictionnaire</button>
    <button class="tab-btn" data-tab="histoire">Histoire</button>
    <button class="tab-btn" data-tab="chat">Chat</button>
    <button class="tab-btn" data-tab="audio">Audio</button>
    <button class="tab-btn" data-tab="photos">Photos</button>
    <button class="tab-btn" data-tab="videos">Vidéos</button>
    <button class="tab-btn" data-tab="rapports">Rapports</button>
    <button class="tab-btn" data-tab="actualites" style="flex: 2;">📰 Actualités</button>
    <button class="tab-btn" data-tab="livres">Livres</button>
  </nav>
  <main>
    <!-- Onglet Livres -->
    <section id="livres" class="tab onglet-contenu">
      <h2>📚 Livres intégrales sur les Idaksahak</h2>
      <div class="livre-bloc">
        <h3>📘 Contribution à la connaissance de la communauté Idaksahak</h3>
        <p>Une étude fondamentale explorant l’histoire, l’identité et l’émancipation politique du peuple Idaksahak à travers trois langues.</p>
        <div class="livre-langues">
          <a class="read-btn" href="CONTRIBUTION-A-LA-CONNAISSANCE-DE-LA-COMMUNAUTE-IDAKSAHAK.html" target="_blank">🇫🇷 Lire (Français)</a>
          <a class="read-btn" href="تاريخ-التحرر-الكامل-العربية.html" target="_blank">🇸🇦 اقرأ (العربية)</a>
          <a class="read-btn" href="contribution-to-the-knowledge-of-the-idaksahak-community.html" target="_blank">🇬🇧 Read (English)</a>
        </div>
      </div>
    </section>
    <!-- Onglet Dictionnaire -->
<section id="dictionnaire" class="tab onglet-contenu active">
  <h2>📖 Dictionnaire Tadaksahak</h2>
  <div class="search-bar">
    <input type="text" id="searchBar" placeholder="🔍 Cherchez un mot..." aria-label="Recherche dans le dictionnaire">
  </div>
  <div class="mot-resultat">
    <h3 id="motTexte">—</h3>
    <p id="definition">—</p>
    <p id="compteur">0 / 0</p>
  </div>
  <div class="button-group dictionnaire-audio">
    <button id="btnPlay" class="btn-icon">🔊 Écouter</button>
    <button id="btnPrononcer" class="btn-icon">🎤 Dis-le</button>
    <button id="btnReplay" class="btn-icon" disabled>🔁 Réécouter</button>
    <button id="btnAuto" class="btn-icon" disabled>▶️ Lecture auto</button>
  </div>
  <div class="button-group dictionnaire-navigation">
    <button id="btnPrev" class="btn-nav">⟸ Mot précédent</button>
    <button id="btnNext" class="btn-nav">Mot suivant ⟹</button>
  </div>
</section>

<!-- Onglet Chat -->
<section id="chat" class="tab onglet-contenu">
  <h2>💬 Chat Tadaksahak</h2>
  <div id="chatWindow" class="chatbox" role="log"></div>
  <div id="botIntro" class="chat-intro">🤖 Salut, je suis Hamadine.</div>
  <div class="chat-input-container">
    <input type="text" id="chatInput" placeholder="Posez une question..." />
    <button id="btnEnvoyer">Envoyer</button>
  </div>
</section>

<!-- Onglet Audio -->
<section id="audio" class="tab onglet-contenu">
  <h2>🎧 Audio Tadaksahak</h2>
  <audio controls>
    <source src="audio/exemple.mp3" type="audio/mpeg" />
    Votre navigateur ne supporte pas l’audio.
  </audio>
</section>

<!-- Onglet Photos -->
<section id="photos" class="tab onglet-contenu">
  <h2>🖼️ Photos liées aux archives</h2>
  <p>Galerie de photographies de documents, tampons, visas, etc.</p>
</section>

<!-- Onglet Vidéos -->
<section id="videos" class="tab onglet-contenu">
  <h2>🎥 Vidéos historiques authentiques</h2>
  <p>Intégration de vidéos YouTube / archives visuelles sur la culture Idaksahak.</p>
</section>

<!-- Onglet Rapports -->
<section id="rapports" class="tab onglet-contenu">
  <h2>📄 Rapports et études</h2>
  <p>Documents de la communauté internationale, ONG, droits humains…</p>
</section>

<!-- Nouvel Onglet Actualités -->
<section id="actualites" class="tab onglet-contenu">
  <h2>🗞️ Actualités</h2>
  <p>À venir : articles, événements, communiqués autour des Idaksahak.</p>
</section>
<script>
  // Gestion des onglets principaux
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      // Retire les classes actives existantes
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

      // Active l'onglet sélectionné
      btn.classList.add('active');
      document.getElementById(btn.dataset.tab).classList.add('active');
    });
  });

  // Carrousel historique
  let idx = 0;
  const slides = document.querySelectorAll('#carousel-histoire .slide');
  if (slides.length) {
    setInterval(() => changerSlide(1), 8000);
  }
  function changerSlide(dir) {
    slides[idx].classList.remove('actif');
    idx = (idx + dir + slides.length) % slides.length;
    slides[idx].classList.add('actif');
  }

  // Sous-onglets des ressources (archives, linguistique…)
  document.querySelectorAll('nav.subtabs > .subtab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const parent = btn.closest('.ressource-section');
      parent.querySelectorAll('.subtab-btn').forEach(b => b.classList.remove('active'));
      parent.querySelectorAll('.subtab-content').forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      parent.querySelector(`#${btn.dataset.subtab}`).classList.add('active');
    });
  });

  // Sous-onglets pour les livres (fr, ar, en)
  function openSubtab(evt, tabId) {
    const section = document.getElementById('idaksahak-emancipation') || document;
    section.querySelectorAll('.subtab-content').forEach(el => el.classList.remove('active'));
    section.querySelectorAll('.subtab-btn').forEach(el => el.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    evt.currentTarget.classList.add('active');
  }
</script>
